(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/yylx/hgList"],{"054b":function(e,t,n){"use strict";(function(e){n("519c");a(n("66fd"));var t=a(n("7248"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"160d":function(e,t,n){},"58f7":function(e,t,n){"use strict";(function(e){function n(e,t){return l(e)||i(e,t)||o(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0)if(n.push(i.value),t&&n.length===t)break}catch(c){o=!0,r=c}finally{try{a||null==l["return"]||l["return"]()}finally{if(o)throw r}}return n}}function l(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c={data:function(){return{imgUrl:getApp().globalData.imgUrl,showMsg:!1,tabId:1,UnExchangePage:1,exchangePage:1,next:!0,unNext:!0,list:"",unList:"",unNum:0,num:0,exchangeMsg:""}},onShow:function(){var t=this;console.log(this.$Store.state.vjfAppid),getApp().globalData.vjfOpenid?(this.queryExchange(),this.queryUnExchange()):this.$Store.state.vjfAppid&&this.$Store.dispatch("getVjfOpenid").then((function(a){var o=n(a,2),r=o[0],i=o[1];i?(getApp().globalData.vjfOpenid=i.data.vjfOpenid,t.queryExchange(),t.queryUnExchange()):(console.log(r),e.navigateTo({url:"../tool/getOpenid/getOpenid?type=vjfOpenid"}))}))},methods:{tab:function(e){this.tabId=e},toIntroduction:function(){e.navigateTo({url:"introduction"})},toRule:function(){e.navigateTo({url:"rule"})},toMap:function(){e.navigateTo({url:"storeList"})},queryUnExchange:function(){var t=this;e.showLoading({title:"加载中"}),e.request({url:this.$Store.state.requestUrl_lx+"/consumer/queryUnExchangePrizeLst",method:"POST",data:{companyKey:this.$Store.state.companyKey,vjifenOpenid:getApp().globalData.vjfOpenid,currentPage:this.UnExchangePage,count:20}}).then((function(a){e.hideLoading(),console.log(a);var o=n(a,2),r=o[0],i=o[1];i?(i.data.reply&&(!i.data.reply.prizeAry||i.data.reply.prizeAry.length<20)?t.unNext=!1:t.unNext=!0,1==t.UnExchangePage?(t.unList=i.data.reply.prizeAry,t.unNum=i.data.reply.prizeNum):i.data.reply.prizeAry&&i.data.reply.prizeAry.length>0&&(t.unList=t.unList.concat(i.data.reply.prizeAry))):(console.log(r),e.showModal({title:"提示",content:"系统繁忙",showCancel:!1}))})).catch((function(t){e.hideLoading(),console.log(t),e.showModal({title:"提示",content:"系统繁忙",showCancel:!1})}))},queryExchange:function(){var t=this;e.showLoading({title:"加载中"}),e.request({url:this.$Store.state.requestUrl_lx+"/consumer/queryExchangedPrizeLst",method:"POST",data:{companyKey:this.$Store.state.companyKey,vjifenOpenid:getApp().globalData.vjfOpenid,currentPage:this.exchangePage,count:20}}).then((function(a){e.hideLoading(),console.log(a);var o=n(a,2),r=o[0],i=o[1];i?(i.data.reply&&(!i.data.reply.prizeAry||i.data.reply.prizeAry.length<20)?t.next=!1:t.next=!0,1==t.exchangePage?(t.list=i.data.reply.prizeAry,t.num=i.data.reply.prizeNum):i.data.reply.prizeAry&&i.data.reply.prizeAry.length>0&&(t.list=t.list.concat(i.data.reply.prizeAry))):(console.log(r),e.showModal({title:"提示",content:"系统繁忙",showCancel:!1}))})).catch((function(t){e.hideLoading(),console.log(t),e.showModal({title:"提示",content:"系统繁忙",showCancel:!1})}))},lower:function(){this.next&&2==this.tabId?(this.exchangePage++,this.queryExchange()):this.unNext&&1==this.tabId?(this.UnExchangePage++,this.queryUnExchange()):e.showToast({title:"没有更多了记录了",icon:"none"})},queryDetails:function(t){var a=this;e.showLoading({title:"加载中"}),e.request({url:this.$Store.state.requestUrl_lx+"/consumer/exchangedPrizeDetail",method:"POST",data:{companyKey:this.$Store.state.companyKey,vjifenOpenid:getApp().globalData.vjfOpenid,terminalKey:this.list[t].terminalKey,exchangeNo:this.list[t].exchangeNo}}).then((function(t){e.hideLoading();var o=n(t,2),r=o[0],i=o[1];i?(a.exchangeMsg=i.data.reply,a.exchangeMsg.exchangeSku[0].exchangeTime&&(a.exchangeMsg.exchangeSku[0].exchangeTime=a.exchangeMsg.exchangeSku[0].exchangeTime.split(".")[0]),a.showMsg=!0):(console.log(r),e.showModal({title:"提示",content:"系统繁忙",showCancel:!1}))})).catch((function(t){e.hideLoading(),console.log(t),e.showModal({title:"提示",content:"系统繁忙",showCancel:!1})}))}}};t.default=c}).call(this,n("543d")["default"])},"60b6":function(e,t,n){"use strict";var a=n("160d"),o=n.n(a);o.a},7248:function(e,t,n){"use strict";n.r(t);var a=n("f225"),o=n("a4a7");for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);n("60b6");var i,l=n("f0c5"),c=Object(l["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);t["default"]=c.exports},a4a7:function(e,t,n){"use strict";n.r(t);var a=n("58f7"),o=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t["default"]=o.a},f225:function(e,t,n){"use strict";var a,o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.unList,(function(t,n){var a=e._f("timeSplit")(t.earnTime),o=e._f("timeSplit")(t.expireTime);return{$orig:e.__get_orig(t),f0:a,f1:o}}))),a=e.__map(e.list,(function(t,n){var a=e._f("timeSplit")(t.exchangeTime);return{$orig:e.__get_orig(t),f2:a}}));e._isMounted||(e.e0=function(t){e.showMsg=!0},e.e1=function(t){e.showMsg=!1}),e.$mp.data=Object.assign({},{$root:{l0:n,l1:a}})},r=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a}))}},[["054b","common/runtime","common/vendor"]]]);